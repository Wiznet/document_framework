<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Product/Chip/MCU/W7500/Peripherals-internal/pwm" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Pulse Width Modulation (PWM) | WIZnet Document System</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.wiznet.io/img/wiznet-logo.png"><meta data-rh="true" name="twitter:image" content="https://docs.wiznet.io/img/wiznet-logo.png"><meta data-rh="true" property="og:url" content="https://docs.wiznet.io/Product/Chip/MCU/W7500/Peripherals-internal/pwm"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="wiznet,documentation,datasheet,w5500,hardwired tcp/ip,ethernet chip,ethernet shield,embedded ethernet"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Pulse Width Modulation (PWM) | WIZnet Document System"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/wizfavicon.ico"><link data-rh="true" rel="canonical" href="https://docs.wiznet.io/Product/Chip/MCU/W7500/Peripherals-internal/pwm"><link data-rh="true" rel="alternate" href="https://docs.wiznet.io/Product/Chip/MCU/W7500/Peripherals-internal/pwm" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.wiznet.io/Product/Chip/MCU/W7500/Peripherals-internal/pwm" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://VXDI0EL2J7-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-207547783-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B4NBQPV6VG"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B4NBQPV6VG",{})</script>



<link rel="search" type="application/opensearchdescription+xml" title="WIZnet Document System" href="/opensearch.xml">
<link rel="preconnect" href="https://cdn.channel.io">
<script>!function(){var n=window;if(n.ChannelIO)return(window.console.error||window.console.log||function(){})("ChannelIO script included twice.");var e=function(){e.c(arguments)};function t(){if(!n.ChannelIOInitialized){n.ChannelIOInitialized=!0;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cdn.channel.io/plugin/ch-plugin-web.js",e.charset="UTF-8";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}e.q=[],e.c=function(n){e.q.push(n)},n.ChannelIO=e,"complete"===document.readyState?t():window.attachEvent?window.attachEvent("onload",t):(window.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1))}(),ChannelIO("boot",{pluginKey:"cb95c060-ab4c-45ec-bbe8-fe40a1ea3aec"})</script><link rel="stylesheet" href="/assets/css/styles.e63e7729.css">
<script src="/assets/js/runtime~main.67316da3.js" defer="defer"></script>
<script src="/assets/js/main.5366cb37.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#C51A4A;color:#fafbfc" role="banner"><div class="content_knG7 announcementBarContent_xLdY">⭐️ Meet our new products: <a target="" rel="noopener noreferrer" href="/Product/Chip/MCU/W55RP20">ioNIC Chip</a> and <a target="" rel="noopener noreferrer" href="/Product/Chip/MCU/W55RP20/w55rp20-evb-pico">W55RP20-EVB-Pico</a> ⭐️</div></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/wiznet_logo.svg" alt="Wiznet Company Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/wiznet_logo-white.svg" alt="Wiznet Company Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Documents</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/introduction">Introduction ➤</a></li><li><a class="dropdown__link" href="/Design-Guide/design_guide">Design Guide ➤</a></li><li><a class="dropdown__link" href="/VAR-Products-using-WIZnet/var_products_using_wiznet">VAR Products ➤</a></li></ul></div><a href="https://www.wiznet.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">WIZnet<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://maker.wiznet.io/forum/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Forum<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/Wiznet/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Pulse Width Modulation (PWM)</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>The PWM consists a 8-channel 32-bit Timer/Counter driven by a programmable prescaler. The function of the PWM is based on the basic Timer. Each timer and counter runs independently.</p>
<p>The PWM can be used to control the width of the pulse, formally the pulse duration, to generate output waveform or to count the counter triggered by external input.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h2>
<ul>
<li>Counter or Timer operation can use the peripheral clock, external clock source, or one of the capture inputs as the clock source.</li>
<li>Eight independent 32-bit Timer/Counter driven by a programmable 6 bits prescaler runs as the PWM or standard timer if the PWM mode is not enabled.</li>
<li>Eight PWM output waveforms.</li>
<li>Each of Timer/Counter can have different or same clock source.</li>
<li>Counter or timer operation.</li>
<li>Eight capture registers that can take the timer value when an external input signal. A capture event can generate an interrupt signal optionally.</li>
<li>32-bit match register and limit register.</li>
</ul>
<p><img decoding="async" loading="lazy" src="/assets/images/pwm_block_diagram-910bbc8df5bc9383891cbdceb0279a57.jpg" title="Figure 1 PWM block diagram" width="1236" height="831" class="img_ev3q"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="functional-description">Functional description<a href="#functional-description" class="hash-link" aria-label="Direct link to Functional description" title="Direct link to Functional description">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="timercounter-control">Timer/Counter control<a href="#timercounter-control" class="hash-link" aria-label="Direct link to Timer/Counter control" title="Direct link to Timer/Counter control">​</a></h3>
<p>The PWM has 8 Timer/Counter clocks, which can be divided by a prescaler. Each Timer/Counter runs independently. The Timer/Counter is designed to count cycles of the clocks or external input signal and generate interrupts when specified timer values are occurred based on match register and limit register. The Timer/Counter can count up or down.</p>
<p>The PWM has match registers and limit registers. The match registers control the duty cycle of PWM output waveform. The limit registers control the period of the PWM output waveform. The Timer/Counter becomes 0 when it reaches value of the limit register. If PDMR(Periodic Mode Register) is set, the Timer/Counter counts repeatedly and if PDMR is reset, the Timer/Counter stops counting.
Match register should be smaller than limit register(LR). If not, match interrupt is not occurred and PWM output waveform is always 1.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="repetition-mode">Repetition mode<a href="#repetition-mode" class="hash-link" aria-label="Direct link to Repetition mode" title="Direct link to Repetition mode">​</a></h4>
<p>The Timer/Counter has two repetition mode: periodic and one-shot mode. In periodic mode, the Timer/Counter recycles and then restarts when the Timer/Counter reaches the value of limit register. The below Figure shows periodic mode timing diagram</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pwm_periodic_mode-7807b0ad60fe4998bb2c4eabd2f379a0.jpg" title="Figure 2 Periodic mode" width="1192" height="333" class="img_ev3q"></p>
<p>In one-shot mode, the Timer/Counter resets to the initial value and then stops when the Timer/Counter reaches the value of limit register. The below Figure shows one-shot mode timing diagram.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pwm_oneshot_mode-95a5137ff11707a5663831061274adcd.jpg" title="Figure 3 One shot mode" width="1211" height="326" class="img_ev3q"></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="counting-mode">Counting mode<a href="#counting-mode" class="hash-link" aria-label="Direct link to Counting mode" title="Direct link to Counting mode">​</a></h4>
<p>The Timer/Counter has two counting mode: Up-count and Down-count mode. In up-count mode, the Timer/Counter counts up from 0 to the limit register value and then recycles. If repetition mode is periodic, the Timer/Counter restarts and if repetition mode is one-shot mode, the Timer/Counter stops. The below Figure shows up-count mode timing diagram.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pwm_upcount_mode-c8fdf0848f0c0dcc206798a89f4f4f3d.jpg" title="Figure 4 Up count mode" width="1190" height="265" class="img_ev3q"></p>
<p>In Down-count mode, the Timer/Counter counts from 0xFFFF_FFFF, then recycles. If repetition mode is periodic, the Timer/Counter restarts and if repetition mode is one-shot mode, the Timer/Counter stops. The below Figure shows down-count mode timing diagram.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pwm_downcount_mode-583c9f9b1e77202ce84a7f950d5b6f2c.jpg" title="Figure 5 Down count mode" width="1217" height="252" class="img_ev3q"></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="timer-and-counter-mode">Timer and Counter mode<a href="#timer-and-counter-mode" class="hash-link" aria-label="Direct link to Timer and Counter mode" title="Direct link to Timer and Counter mode">​</a></h4>
<p>The Timer/Counter can run in timer mode or counter mode. In timer mode, the Timer/Counter is counted by PWMCLK after Prescale counter is overflowed. If prescale is set by 0, the Timer/Counter counts every PWMCLK period. In counter mode, the Timer/Counter is counted by external input signal. There are three counting method: rising edge, falling edge, and both edge. The counter mode has up-count or down-count mode and also has periodic or one-shot mode. The external input pin and PWM output pin are the same, so PWM output is disabled in counter mode.</p>
<p>The below Figure is counter mode example with rising edge mode.
![](/img/products/w7500p/peripheral/pwm_counter_mode1.jpg&quot; Figure 6 Counter mode with rising edge&quot;)</p>
<p>The below Figure is with falling edge mode.
<img decoding="async" loading="lazy" src="/assets/images/pwm_counter_mode2-7e8bd2f498f504f4c4b4cfdc46ad7c2c.jpg" title="Figure 7 Counter mode with falling edge" width="1246" height="400" class="img_ev3q"></p>
<p>The below Figure is with both rising and falling edge mode.
<img decoding="async" loading="lazy" src="/assets/images/pwm_counter_mode3-b3d2d0a143b12d43fca7c221498c1098.jpg" title="Figure 8 Counter mode with rising and falling edge" width="1244" height="460" class="img_ev3q"></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="prescaler-description">Prescaler description<a href="#prescaler-description" class="hash-link" aria-label="Direct link to Prescaler description" title="Direct link to Prescaler description">​</a></h4>
<p>The PWM has 6-bit prescale counter(PC) and the prescaler can divide the Timer/Counter clock frequency. Users can control it by Prescale Register(PR).</p>
<p>The below Figures show some examples of the Timer/Counter timing with prescale register is 2, match register is 2, limit register is 12, timer mode, periodic mode, up-count mode, and no interrupt clear.</p>
<p>The below Figure shows Timer/Counter timing diagram with match interrupt.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pwm_timing_diagram1-0013f5673ffb00c32d1f742f36ca803e.jpg" title="Figure 9 Timer/Counter timing diagram with match interrupt" width="1140" height="605" class="img_ev3q"></p>
<p>The below Figure Timer/Counter timing diagram with overflow interrupt.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pwm_timing_diagram2-96d1ed629267b4d40ebbcb6b30145934.jpg" title="Figure 10 Timer/Counter timing diagram with overflow interrupt" width="1217" height="668" class="img_ev3q"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pwm-mode">PWM mode<a href="#pwm-mode" class="hash-link" aria-label="Direct link to PWM mode" title="Direct link to PWM mode">​</a></h3>
<p>Pulse Width Modulation mode generates a waveform with a period determined by the value of limit register and a duty cycle determined by the value of the match register.</p>
<p>The PWM output becomes always 1 when the Timer/Counter starts to count. Then the PWM output becomes 0 when the Timer/Counter reaches the value of match register. If the Timer/Counter is in periodic mode, the PWM output becomes 1 again when the Timer/Counter reaches the value of limit register. In one-shot mode, the PWM output does not change to 1 but stays 0 and the Timer/Counter stops.</p>
<p>The PWM mode can be selected independently on each channel(0~7) by PWM output enable and external input enable register. The external input pin and PWM output pin are the same, so external input is disabled in PWM mode.</p>
<p>The below Figure is an example of the PWM output waveform when the Timer/Counter is reached to the value of match register.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pwm_timing_diagram2-96d1ed629267b4d40ebbcb6b30145934.jpg" title="Figure 11 The PWM output up to match register" width="1217" height="668" class="img_ev3q"></p>
<p>The below Figure is example of the PWM output waveform when to the Timer/Counter is reached to the value of limit register.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pwm_timing_diagram2-96d1ed629267b4d40ebbcb6b30145934.jpg" title="Figure 12 The PWM output up to limit register" width="1217" height="668" class="img_ev3q"></p>
<p>If match register is set as 0, the PWM output will be 1 while the Timer/Counter is 0.
If the match register is bigger than the limit register, the PWM output is always 1.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="interrupt">Interrupt<a href="#interrupt" class="hash-link" aria-label="Direct link to Interrupt" title="Direct link to Interrupt">​</a></h3>
<p>The PWM has 8-bit interrupt enable register(IER) and each bit of IER corresponds to each interrupt of channel. Each PWM channel has Channel-n Interrupt Enable register(CHn_IER). The CHn_IER includes three types of interrupt: match, overflow, and capture. The match interrupt occurs when the Timer/Counter is reached to value of match register. The overflow interrupt occurs when the Timer/Counter is reached to value of limit register. The capture interrupt occurs when external input is entered for capture.</p>
<p>If interrupt occurs, corresponded bit of Channel-x interrupt register(CHn_IR) bit is set and PWM channel-n interrupt signal is generated. All CHn_IR is cleared by channel-n interrupt clear register(CHn_ICR) and then PWM channel-n interrupt signal is cleared.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dead-zone-generation">Dead zone generation<a href="#dead-zone-generation" class="hash-link" aria-label="Direct link to Dead zone generation" title="Direct link to Dead zone generation">​</a></h3>
<p>Each PWM channel can output two complementary signals with dead zone time and it can be enabled by Channel-n Dead Zone Enable Register(CHn_DZER). Only 4 channels can be enabled because there are 8 PWM output pins. Channel 0 and 1 are a pair, channel 2 and 3 are a pair, channel 4 and 5 are a pair, and channel 6 and 7 are a pair. If users want to use channel-0 dead zone generation, channel-1 should be disabled. If channel 0 and 1 dead zone generation are enabled both, all outputs are 0. In that case, users should choose 1 channel.</p>
<p>Dead zone time are generated by the value of Channel-n Dead Zone Counter Register(DZCR). The dead zone counter counts up to value of DZCR. During the dead zone time, both complementary signals are both 0. Users have to adjust the signal depending on the devices that are connected to the outputs and their characteristics. If DZCR is bigger than the limit register, main output signal is toggled 0 to1 and then 1 to 0 while 1 PWMCLK and inverted output signal is always 0.</p>
<p>The below Figure shows two complementary PWM outputs with dead zone time. During dead zone time, both outputs are 0.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pwm_deadzone-4486cde2be9aee648ee8e66242b5a56e.jpg" title="Figure 13 PWM waveform with dead zone time" width="1223" height="306" class="img_ev3q"></p>
<p>The below Figure shows a more detailed timing with dead zone counter.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pwm_deadzone_counter-7e9156c9426edc5d80d3c6e6bccf4749.jpg" title="Figure 14 PWM waveform with dead zone counter" width="1233" height="728" class="img_ev3q"></p>
<p>The dead zone counter and the Timer/Counter starts to count together and PWM output is 0 until dead zone counter is reached to value of dead zone counter register. The PWM output becomes 1 and 0 when the Timer/Counter is reached to value of match register. The inverted PWM output is also 0 until dead zone counter is reached to value of dead zone counter register. Then inverted PWM output becomes 1 after dead zone counter is reached to the value of dead zone counter register.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="capture-event">Capture event<a href="#capture-event" class="hash-link" aria-label="Direct link to Capture event" title="Direct link to Capture event">​</a></h3>
<p>Each PWM channel can capture its Timer/Counter value when an external input signal changes. Any channel could use any method of rising or falling edges. If capture interrupt is enabled, capture interrupt occurs when the external input signal is toggled. The Timer/Counter value is saved in Channel-n Capture Register(CHn_CR) and the capture register is not overwritten until capture interrupt is cleared. The below Figure shows the capture event timing diagram. There is no interrupt clear, so second capture does not save during second rising edge detection.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pwm_nointerrupt-4b380f5218b10fd6489ed158136c6c9f.jpg" title="Figure 15 Capture event with no interrupt clear" width="1265" height="590" class="img_ev3q"></p>
<p>The below Figure shows, the capture event timing diagram with interrupt clear. The second capture is saved at the second rising edge detection because there is interrupt clear.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pwm_interrupt-c67f3fe15a83ca6bceb09cb4204d7f15.jpg" title="Figure 16 Capture event with interrupt clear" width="1259" height="602" class="img_ev3q"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-to-set-the-pwm">How to set the PWM<a href="#how-to-set-the-pwm" class="hash-link" aria-label="Direct link to How to set the PWM" title="Direct link to How to set the PWM">​</a></h3>
<p>The below Figure shows the PWM setting flow step by step.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pwm_flow_chart-a6002456f019258f0598e9909f0161dc.jpg" title="Figure 17 The PWM setting flow" width="867" height="845" class="img_ev3q"></p>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="peripheral_examples">Peripheral_Examples<a href="#peripheral_examples" class="hash-link" aria-label="Direct link to Peripheral_Examples" title="Direct link to Peripheral_Examples">​</a></h2>
<ul>
<li><a href="/Product/Chip/MCU/W7500/Peripherals-internal/capturemode">CaptureMode example</a></li>
<li><a href="/Product/Chip/MCU/W7500/Peripherals-internal/countermode">CounterMode example</a></li>
<li><a href="/Product/Chip/MCU/W7500/Peripherals-internal/deadzonegeneration">DeadZoneGeneration example</a></li>
<li><a href="/Product/Chip/MCU/W7500/Peripherals-internal/pwmoutput">PWMOutput example</a></li>
<li><a href="/Product/Chip/MCU/W7500/Peripherals-internal/timermode">TimerMode example</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Wiznet/document_framework/tree/master/docs/Product/Chip/MCU/W7500/Peripherals-internal/pwm.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a></li><li><a href="#functional-description" class="table-of-contents__link toc-highlight">Functional description</a><ul><li><a href="#timercounter-control" class="table-of-contents__link toc-highlight">Timer/Counter control</a></li><li><a href="#pwm-mode" class="table-of-contents__link toc-highlight">PWM mode</a></li><li><a href="#interrupt" class="table-of-contents__link toc-highlight">Interrupt</a></li><li><a href="#dead-zone-generation" class="table-of-contents__link toc-highlight">Dead zone generation</a></li><li><a href="#capture-event" class="table-of-contents__link toc-highlight">Capture event</a></li><li><a href="#how-to-set-the-pwm" class="table-of-contents__link toc-highlight">How to set the PWM</a></li></ul></li><li><a href="#peripheral_examples" class="table-of-contents__link toc-highlight">Peripheral_Examples</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/introduction">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/">Products</a></li><li class="footer__item"><a class="footer__link-item" href="/Design-Guide/design_guide">Design Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/VAR-Products-using-WIZnet/var_products_using_wiznet">VAR Products</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Buy</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://eshop.wiznet.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">USA<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="http://shop.wiznet.eu/" target="_blank" rel="noopener noreferrer" class="footer__link-item">EU<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.wiznet.hk/en/" target="_blank" rel="noopener noreferrer" class="footer__link-item">China<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="http://wiznetshop.co.kr/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Korea<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://wiznet.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">WIZnet Homepage<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://maker.wiznet.io/forum" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="http://maker.wiznet.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Maker Community<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/Wiznet/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.facebook.com/wiznettechnology" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/wiznet/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/wiznetteam" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCAxgCSp_xA2aQ1KA2Eknvqg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 WIZnet Co., Ltd. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>