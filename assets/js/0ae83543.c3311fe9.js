"use strict";(self.webpackChunkwiznet_document=self.webpackChunkwiznet_document||[]).push([[87187],{10796:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>a,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var t=i(85893),o=i(11151);const s={id:"how-to-debug-wizwiki-w7500",title:"How to Debug WIZwiki-W7500",date:new Date("2020-04-07T00:00:00.000Z")},r=void 0,l={id:"Product/Mbed-WIZwiki-Platform/Getting-Started/how-to-debug-wizwiki-w7500",title:"How to Debug WIZwiki-W7500",description:"On the WIZwiki-W7500, there are SWD Header and CMSIS-DAP to debug",source:"@site/docs/Product/Mbed-WIZwiki-Platform/Getting-Started/How_to_debug_Wizwiki_W7500.md",sourceDirName:"Product/Mbed-WIZwiki-Platform/Getting-Started",slug:"/Product/Mbed-WIZwiki-Platform/Getting-Started/how-to-debug-wizwiki-w7500",permalink:"/Product/Mbed-WIZwiki-Platform/Getting-Started/how-to-debug-wizwiki-w7500",draft:!1,unlisted:!1,editUrl:"https://github.com/Wiznet/document_framework/tree/master/docs/Product/Mbed-WIZwiki-Platform/Getting-Started/How_to_debug_Wizwiki_W7500.md",tags:[],version:"current",frontMatter:{id:"how-to-debug-wizwiki-w7500",title:"How to Debug WIZwiki-W7500",date:"2020-04-07T00:00:00.000Z"},sidebar:"docs",previous:{title:"How to write the firmware into WIZwiki-W7500",permalink:"/Product/Mbed-WIZwiki-Platform/Getting-Started/how-to-write-firmware-into-wizwiki-w7500"},next:{title:"How to write the firmware into CMSIS-DAP",permalink:"/Product/Mbed-WIZwiki-Platform/Getting-Started/how-to-write-firmware-into-cmsis-dap"}},d={},c=[{value:"Set Flash Algorithm",id:"set-flash-algorithm",level:2},{value:"Download",id:"download",level:3},{value:"To follow",id:"to-follow",level:3},{value:"Using ULINK Debugger",id:"using-ulink-debugger",level:2},{value:"To Follow",id:"to-follow-1",level:3},{value:"Using CMSIS-DAP Debugger",id:"using-cmsis-dap-debugger",level:2},{value:"To Follow",id:"to-follow-2",level:3},{value:"When downloading multiple projects",id:"when-downloading-multiple-projects",level:2},{value:"To Follow",id:"to-follow-3",level:3},{value:"How to switch app &amp; boot for debug",id:"how-to-switch-app--boot-for-debug",level:3}];function h(e){const n={a:"a",br:"br",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"On the WIZwiki-W7500, there are SWD Header and CMSIS-DAP to debug\r\nWIZwiki-W7500. At first, you need to set Flash Algorithm to use\r\ndebugging. This page shows how to set Flash Algorithm and how to use\r\nULINK Debugger and CMSIS-DAP Debugger."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"set-flash-algorithm",children:"Set Flash Algorithm"}),"\n",(0,t.jsx)(n.h3,{id:"download",children:"Download"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["W7500 128KB Flash project: ",(0,t.jsx)("a",{href:"/img/products/w7500/overview/w7500_128kb_flash.zip",target:"_blank",children:"Download"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["W7500 128KB Flash file: ",(0,t.jsx)("a",{href:"/img/products/w7500/overview/w7500_128_flm.zip",target:"_blank",children:"Download"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"to-follow",children:"To follow"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Download the attached File and unzip. Then you can find one folder\r\nand one file in it. In 'W7500_flash_algo_mdk' folder, open the\r\nproject and Build it."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(51281).Z+"",width:"975",height:"842"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["After build, you can check the generated files in project folder.\r\nBack to 'W7500_128_Flash' folder and copy 'W7500_128_FLM' flash\r\nalgorithm file into the Flash folder in Keil.\r\n",(0,t.jsx)(n.strong,{children:"C:\\Keil_v5\\ARM\\Flash"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(92468).Z+"",width:"878",height:"738"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"using-ulink-debugger",children:"Using ULINK Debugger"}),"\n",(0,t.jsx)(n.p,{children:"To use ULINK Debugger, you should uncap SWD Debugger Sel Jumper usually\r\ndisconnected with cap. Do not forget to connect USB cable to supply\r\npower to the board."}),"\n",(0,t.jsx)(n.h3,{id:"to-follow-1",children:"To Follow"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"You can find SWD Header in the middle of WIZwiki-W7500 and Debugger\r\nSel Jumper with three caps above it. Then open the J3, J4, J5 jumper cap\r\nin Debugger Sel Jumper. Now, your WIZwiki-W7500 is ready to connect the\r\nSWD debugger."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(12217).Z+"",width:"695",height:"410"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Connect ULINK debugger and SWD Header. At this moment, be careful of\r\nmatching pin number."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Click 'Flash' in top menu and open 'Configure Flash Tools'. Set\r\n'Debug' on top menu with choosing 'ULINK2/ME Cortex Debugger'."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(67645).Z+"",width:"827",height:"740"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Click 'Utilities' next Debug and choose 'CMSIS-DAP Debugger'. Open\r\n'Setting' menu and unchecked 'SWJ' in Debug on top menu. Then confirm\r\n'ARM CoreSight SW-DP' set on SW Device.\r\n",(0,t.jsx)(n.img,{src:i(79228).Z+"",width:"1088",height:"885"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Click 'Flash Download'. Set 'Erase Full Chip' in Download Function,\r\ntype '0x20000000 to 0x4000' in RAM for Algorithm and Add\r\n'W7500_128KB_FLASH' on Programming Algorithm. After comparing with the\r\nfigure below, click 'OK'."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(95444).Z+"",width:"1241",height:"1398"})}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsxs)(n.li,{children:["Download the firmware into WIZwiki-W7500. You can check complete\r\nmessage and the ULINK Debugger at the bottom. Chick the 'Debug icon' or\r\n",(0,t.jsx)(n.strong,{children:"Ctrl+F5"})," to debug.",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{src:i(23044).Z+"",width:"1411",height:"1005"})]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"using-cmsis-dap-debugger",children:"Using CMSIS-DAP Debugger"}),"\n",(0,t.jsxs)(n.p,{children:["CMSIS-DAP does support USB cable and Debugger as well. You need to ",(0,t.jsx)(n.a,{href:"#set-flash-algorithm",children:"Set Flash Algorithm"})," to use CMSIS-DAP Debugger in Keil."]}),"\n",(0,t.jsx)(n.h3,{id:"to-follow-2",children:"To Follow"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Click 'Flash' in top menu and open 'Configure Flash Tools'. Set 'Debug' on top menu with choosing 'CMSIS-DAP Debugger'.\r\n",(0,t.jsx)(n.img,{src:i(86428).Z+"",width:"672",height:"608"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Click 'Utilities' and choose 'CMSIS-DAP Debugger'. Open 'Settings' menu and unchecked 'SWJ' in Debug menu. Then confirm 'ARM CoreSight SW-DP' set on SW Device.\r\n",(0,t.jsx)(n.img,{src:i(22736).Z+"",width:"1097",height:"646"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Next to the Debug menu bar, Click 'Flash Download' and set 'Erase Full Chip' in Download Function, '0x20000000 to 0x4000' in RAM for Algorithm, Add 'W7500_128KB_FLASH' on Programming Algorithm. After checking it with below figure, click 'OK'.\r\n",(0,t.jsx)(n.img,{src:i(28184).Z+"",width:"1237",height:"1364"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Download the firmware into WIZwiki-W7500. You can check complete message and the CMSIS-DAP Debugger at the bottom. Chick the 'Debug icon' or ",(0,t.jsx)(n.strong,{children:"Ctrl+F5"})," to debug.\r\n",(0,t.jsx)(n.img,{src:i(23869).Z+"",width:"1411",height:"1024"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"when-downloading-multiple-projects",children:"When downloading multiple projects"}),"\n",(0,t.jsx)(n.p,{children:"In case of WIZ750SR code using W7500 chip, Boot and App project exist\r\nrespectively. Therefore, there is a problem when following the previous\r\nexplanations. Regardless of which debugger you use, you only need to pay\r\nattention to the following settings."}),"\n",(0,t.jsx)(n.h3,{id:"to-follow-3",children:"To Follow"}),"\n",(0,t.jsx)(n.p,{children:"- For general configuration, follow the previous instructions."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(63981).Z+"",width:"1277",height:"621"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Click 'Flash' in top menu and open 'Configure Flash Tools'."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Click 'Utilities' in tap menu."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"And choose 'your debugger'."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Open 'Setting' menu next to it and click 'Flash Download' in tap\r\nmenu."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Only set 'Erase Sectors', 'Program', 'Verify' in Download Function."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Click W7500 128KB FLASH in Programming Algorithm and fill the\r\n[Start] [Size] Box."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"You can get [Start] address and [Size] from target information like figure below.\r\nIf everything is entered correctly, Click 'OK'."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(60880).Z+"",width:"1272",height:"476"})}),"\n",(0,t.jsx)(n.p,{children:"The remaining steps can be followed by the previous description."}),"\n",(0,t.jsx)(n.h3,{id:"how-to-switch-app--boot-for-debug",children:"How to switch app & boot for debug"}),"\n",(0,t.jsx)(n.p,{children:"You just need reset device and debug that you want!"}),"\n",(0,t.jsx)(n.hr,{})]})}function a(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},63981:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/images/cmsis_debug_multi_project_1-328c2122610d08287f9f7c5b89e4eab3.png"},60880:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/images/cmsis_debug_target_info-f128ccc39a634f5d5836c624718081f5.png"},51281:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/images/flash_set-b3c106f9ec25aa6f9024334d037cee7b.jpg"},92468:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/images/set_flash_algo2-76bb23c13ec7bac015dc3632df9ccf30.png"},12217:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/images/swd_header_debugger_jumper-12974f2a215d87f003e58ad633a8c9e8.png"},67645:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/images/ulink_set1-a1831e3151da5e9356873d76cc22c0b4.jpg"},79228:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/images/ulink_set2-2832e8aa1d612798c176a6043dcc3e5e.jpg"},95444:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/images/ulink_set3-1-857db7262f405ef6e1b0b4284d31750c.jpg"},23044:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/images/ulink_set4-bdb3d3769b0e5a6723893e94c5cb5800.jpg"},86428:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/images/cmsis_debug_1-735323a25e7faa2d7aaffc5cac65ede3.jpg"},22736:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/images/cmsis_debug_2-1-c50d0d1bfdefb8acdf35983e8de68f0c.jpg"},28184:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/images/cmsis_debug_3-1-beeed2970ff5e4736a7ec230e9784e9e.jpg"},23869:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i.p+"assets/images/cmsis_debug_4-87e0563f91f297c38f51f4401d41ec9c.jpg"},11151:(e,n,i)=>{i.d(n,{Z:()=>l,a:()=>r});var t=i(67294);const o={},s=t.createContext(o);function r(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);