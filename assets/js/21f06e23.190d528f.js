"use strict";(self.webpackChunkwiznet_document=self.webpackChunkwiznet_document||[]).push([[71488],{45823:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>a,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Product/Modules/Mbed-WIZwiki-Platform/Getting-Started/how-to-debug-wizwiki-w7500","title":"How to Debug WIZwiki-W7500","description":"On the WIZwiki-W7500, there are SWD Header and CMSIS-DAP to debug","source":"@site/docs/Product/Modules/Mbed-WIZwiki-Platform/Getting-Started/How_to_debug_Wizwiki_W7500.md","sourceDirName":"Product/Modules/Mbed-WIZwiki-Platform/Getting-Started","slug":"/Product/Modules/Mbed-WIZwiki-Platform/Getting-Started/how-to-debug-wizwiki-w7500","permalink":"/Product/Modules/Mbed-WIZwiki-Platform/Getting-Started/how-to-debug-wizwiki-w7500","draft":false,"unlisted":false,"editUrl":"https://github.com/Wiznet/document_framework/tree/master/docs/Product/Modules/Mbed-WIZwiki-Platform/Getting-Started/How_to_debug_Wizwiki_W7500.md","tags":[],"version":"current","frontMatter":{"id":"how-to-debug-wizwiki-w7500","title":"How to Debug WIZwiki-W7500","date":"2020-04-07T00:00:00.000Z"},"sidebar":"docs","previous":{"title":"How to write the firmware into WIZwiki-W7500","permalink":"/Product/Modules/Mbed-WIZwiki-Platform/Getting-Started/how-to-write-firmware-into-wizwiki-w7500"},"next":{"title":"How to write the firmware into CMSIS-DAP","permalink":"/Product/Modules/Mbed-WIZwiki-Platform/Getting-Started/how-to-write-firmware-into-cmsis-dap"}}');var o=i(74848),s=i(28453);const l={id:"how-to-debug-wizwiki-w7500",title:"How to Debug WIZwiki-W7500",date:new Date("2020-04-07T00:00:00.000Z")},r=void 0,d={},c=[{value:"Set Flash Algorithm",id:"set-flash-algorithm",level:2},{value:"Download",id:"download",level:3},{value:"To follow",id:"to-follow",level:3},{value:"Using ULINK Debugger",id:"using-ulink-debugger",level:2},{value:"To Follow",id:"to-follow-1",level:3},{value:"Using CMSIS-DAP Debugger",id:"using-cmsis-dap-debugger",level:2},{value:"To Follow",id:"to-follow-2",level:3},{value:"When downloading multiple projects",id:"when-downloading-multiple-projects",level:2},{value:"To Follow",id:"to-follow-3",level:3},{value:"How to switch app &amp; boot for debug",id:"how-to-switch-app--boot-for-debug",level:3}];function h(e){const n={a:"a",br:"br",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"On the WIZwiki-W7500, there are SWD Header and CMSIS-DAP to debug\nWIZwiki-W7500. At first, you need to set Flash Algorithm to use\ndebugging. This page shows how to set Flash Algorithm and how to use\nULINK Debugger and CMSIS-DAP Debugger."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"set-flash-algorithm",children:"Set Flash Algorithm"}),"\n",(0,o.jsx)(n.h3,{id:"download",children:"Download"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["W7500 128KB Flash project: ",(0,o.jsx)("a",{href:"/img/products/w7500/overview/w7500_128kb_flash.zip",target:"_blank",children:"Download"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["W7500 128KB Flash file: ",(0,o.jsx)("a",{href:"/img/products/w7500/overview/w7500_128_flm.zip",target:"_blank",children:"Download"})]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"to-follow",children:"To follow"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Download the attached File and unzip. Then you can find one folder\nand one file in it. In 'W7500_flash_algo_mdk' folder, open the\nproject and Build it."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:i(67461).A+"",width:"975",height:"842"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsxs)(n.li,{children:["After build, you can check the generated files in project folder.\nBack to 'W7500_128_Flash' folder and copy 'W7500_128_FLM' flash\nalgorithm file into the Flash folder in Keil.\n",(0,o.jsx)(n.strong,{children:"C:\\Keil_v5\\ARM\\Flash"})]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:i(13461).A+"",width:"878",height:"738"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"using-ulink-debugger",children:"Using ULINK Debugger"}),"\n",(0,o.jsx)(n.p,{children:"To use ULINK Debugger, you should uncap SWD Debugger Sel Jumper usually\ndisconnected with cap. Do not forget to connect USB cable to supply\npower to the board."}),"\n",(0,o.jsx)(n.h3,{id:"to-follow-1",children:"To Follow"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"You can find SWD Header in the middle of WIZwiki-W7500 and Debugger\nSel Jumper with three caps above it. Then open the J3, J4, J5 jumper cap\nin Debugger Sel Jumper. Now, your WIZwiki-W7500 is ready to connect the\nSWD debugger."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:i(99702).A+"",width:"695",height:"410"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Connect ULINK debugger and SWD Header. At this moment, be careful of\nmatching pin number."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Click 'Flash' in top menu and open 'Configure Flash Tools'. Set\n'Debug' on top menu with choosing 'ULINK2/ME Cortex Debugger'."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:i(57529).A+"",width:"827",height:"740"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Click 'Utilities' next Debug and choose 'CMSIS-DAP Debugger'. Open\n'Setting' menu and unchecked 'SWJ' in Debug on top menu. Then confirm\n'ARM CoreSight SW-DP' set on SW Device.\n",(0,o.jsx)(n.img,{src:i(1390).A+"",width:"1088",height:"885"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Click 'Flash Download'. Set 'Erase Full Chip' in Download Function,\ntype '0x20000000 to 0x4000' in RAM for Algorithm and Add\n'W7500_128KB_FLASH' on Programming Algorithm. After comparing with the\nfigure below, click 'OK'."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:i(79109).A+"",width:"1241",height:"1398"})}),"\n",(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsxs)(n.li,{children:["Download the firmware into WIZwiki-W7500. You can check complete\nmessage and the ULINK Debugger at the bottom. Chick the 'Debug icon' or\n",(0,o.jsx)(n.strong,{children:"Ctrl+F5"})," to debug.",(0,o.jsx)(n.br,{}),"\n",(0,o.jsx)(n.img,{src:i(5016).A+"",width:"1411",height:"1005"})]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"using-cmsis-dap-debugger",children:"Using CMSIS-DAP Debugger"}),"\n",(0,o.jsxs)(n.p,{children:["CMSIS-DAP does support USB cable and Debugger as well. You need to ",(0,o.jsx)(n.a,{href:"#set-flash-algorithm",children:"Set Flash Algorithm"})," to use CMSIS-DAP Debugger in Keil."]}),"\n",(0,o.jsx)(n.h3,{id:"to-follow-2",children:"To Follow"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Click 'Flash' in top menu and open 'Configure Flash Tools'. Set 'Debug' on top menu with choosing 'CMSIS-DAP Debugger'.\n",(0,o.jsx)(n.img,{src:i(42164).A+"",width:"672",height:"608"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Click 'Utilities' and choose 'CMSIS-DAP Debugger'. Open 'Settings' menu and unchecked 'SWJ' in Debug menu. Then confirm 'ARM CoreSight SW-DP' set on SW Device.\n",(0,o.jsx)(n.img,{src:i(60845).A+"",width:"1097",height:"646"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Next to the Debug menu bar, Click 'Flash Download' and set 'Erase Full Chip' in Download Function, '0x20000000 to 0x4000' in RAM for Algorithm, Add 'W7500_128KB_FLASH' on Programming Algorithm. After checking it with below figure, click 'OK'.\n",(0,o.jsx)(n.img,{src:i(92404).A+"",width:"1237",height:"1364"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Download the firmware into WIZwiki-W7500. You can check complete message and the CMSIS-DAP Debugger at the bottom. Chick the 'Debug icon' or ",(0,o.jsx)(n.strong,{children:"Ctrl+F5"})," to debug.\n",(0,o.jsx)(n.img,{src:i(79565).A+"",width:"1411",height:"1024"})]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"when-downloading-multiple-projects",children:"When downloading multiple projects"}),"\n",(0,o.jsx)(n.p,{children:"In case of WIZ750SR code using W7500 chip, Boot and App project exist\nrespectively. Therefore, there is a problem when following the previous\nexplanations. Regardless of which debugger you use, you only need to pay\nattention to the following settings."}),"\n",(0,o.jsx)(n.h3,{id:"to-follow-3",children:"To Follow"}),"\n",(0,o.jsx)(n.p,{children:"- For general configuration, follow the previous instructions."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:i(55217).A+"",width:"1277",height:"621"})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Click 'Flash' in top menu and open 'Configure Flash Tools'."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Click 'Utilities' in tap menu."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"And choose 'your debugger'."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Open 'Setting' menu next to it and click 'Flash Download' in tap\nmenu."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Only set 'Erase Sectors', 'Program', 'Verify' in Download Function."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Click W7500 128KB FLASH in Programming Algorithm and fill the\n[Start] [Size] Box."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"You can get [Start] address and [Size] from target information like figure below.\nIf everything is entered correctly, Click 'OK'."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:i(76130).A+"",width:"1272",height:"476"})}),"\n",(0,o.jsx)(n.p,{children:"The remaining steps can be followed by the previous description."}),"\n",(0,o.jsx)(n.h3,{id:"how-to-switch-app--boot-for-debug",children:"How to switch app & boot for debug"}),"\n",(0,o.jsx)(n.p,{children:"You just need reset device and debug that you want!"}),"\n",(0,o.jsx)(n.hr,{})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},55217:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/cmsis_debug_multi_project_1-328c2122610d08287f9f7c5b89e4eab3.png"},76130:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/cmsis_debug_target_info-f128ccc39a634f5d5836c624718081f5.png"},67461:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/flash_set-b3c106f9ec25aa6f9024334d037cee7b.jpg"},13461:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/set_flash_algo2-76bb23c13ec7bac015dc3632df9ccf30.png"},99702:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/swd_header_debugger_jumper-12974f2a215d87f003e58ad633a8c9e8.png"},57529:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/ulink_set1-a1831e3151da5e9356873d76cc22c0b4.jpg"},1390:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/ulink_set2-2832e8aa1d612798c176a6043dcc3e5e.jpg"},79109:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/ulink_set3-1-857db7262f405ef6e1b0b4284d31750c.jpg"},5016:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/ulink_set4-bdb3d3769b0e5a6723893e94c5cb5800.jpg"},42164:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/cmsis_debug_1-735323a25e7faa2d7aaffc5cac65ede3.jpg"},60845:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/cmsis_debug_2-1-c50d0d1bfdefb8acdf35983e8de68f0c.jpg"},92404:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/cmsis_debug_3-1-beeed2970ff5e4736a7ec230e9784e9e.jpg"},79565:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/cmsis_debug_4-87e0563f91f297c38f51f4401d41ec9c.jpg"},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>r});var t=i(96540);const o={},s=t.createContext(o);function l(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);