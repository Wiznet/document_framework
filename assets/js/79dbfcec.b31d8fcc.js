"use strict";(self.webpackChunkwiznet_document=self.webpackChunkwiznet_document||[]).push([[5],{88297:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>x,frontMatter:()=>r,metadata:()=>c,toc:()=>o});var s=n(85893),i=n(11151);const r={id:"mqtt-connection-guide-en",title:"MQTT Connection Guide-[EN]",date:new Date("2022-06-28T00:00:00.000Z")},l=void 0,c={id:"Product/S2E-Module/Industrial/mqtt-connection-guide-en",title:"MQTT Connection Guide-[EN]",description:"-----",source:"@site/docs/Product/S2E-Module/Industrial/mqtt-connection-guide-en.md",sourceDirName:"Product/S2E-Module/Industrial",slug:"/Product/S2E-Module/Industrial/mqtt-connection-guide-en",permalink:"/Product/S2E-Module/Industrial/mqtt-connection-guide-en",draft:!1,unlisted:!1,editUrl:"https://github.com/Wiznet/document_framework/tree/master/docs/Product/S2E-Module/Industrial/mqtt-connection-guide-en.md",tags:[],version:"current",frontMatter:{id:"mqtt-connection-guide-en",title:"MQTT Connection Guide-[EN]",date:"2022-06-28T00:00:00.000Z"},sidebar:"docs",previous:{title:"Command Manual-[EN]",permalink:"/Product/S2E-Module/Industrial/command-manual-en"},next:{title:"SSL Connection Guide-[EN]",permalink:"/Product/S2E-Module/Industrial/ssl-connection-guide-en"}},d={},o=[{value:"MQTT Connection Overview",id:"mqtt-connection-overview",level:2},{value:"Required Hardware and Software",id:"required-hardware-and-software",level:2},{value:"Hardware",id:"hardware",level:3},{value:"Software",id:"software",level:3},{value:"How to Connect to MQTT Broker through Mosquitto",id:"how-to-connect-to-mqtt-broker-through-mosquitto",level:2},{value:"Step 1: Run Config-tool",id:"step-1-run-config-tool",level:3},{value:"Step 2: Setup Mosquitto",id:"step-2-setup-mosquitto",level:3},{value:"Step 3: Run MQTT Broker through Mosquitto",id:"step-3-run-mqtt-broker-through-mosquitto",level:3},{value:"Step 4: Setup Device through WIZnet S2E Configuration Tool for MQTT Broker Connection",id:"step-4-setup-device-through-wiznet-s2e-configuration-tool-for-mqtt-broker-connection",level:3},{value:"Step 5: Done",id:"step-5-done",level:3},{value:"How to connect to AWS using MQTT",id:"how-to-connect-to-aws-using-mqtt",level:2},{value:"Step 1: Create a Thing and Policy in AWS and Download a Certificate",id:"step-1-create-a-thing-and-policy-in-aws-and-download-a-certificate",level:3},{value:"Step 2: Enter the certificate on the device",id:"step-2-enter-the-certificate-on-the-device",level:3},{value:"Step 3: Run (Subscribe)",id:"step-3-run-subscribe",level:3},{value:"Step 4: Run (Publish)",id:"step-4-run-publish",level:3}];function h(e){const t={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"mqtt-connection-overview",children:"MQTT Connection Overview"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"W232N"})," supports ",(0,s.jsx)(t.strong,{children:"MQTT client"})," and ",(0,s.jsx)(t.strong,{children:"MQTTS client"})," mode."]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"required-hardware-and-software",children:"Required Hardware and Software"}),"\n",(0,s.jsx)(t.h3,{id:"hardware",children:"Hardware"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"W232N"}),"\n",(0,s.jsx)(t.li,{children:"5V Power adapter"}),"\n",(0,s.jsx)(t.li,{children:"Cables (Ethernet / Serial)"}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"software",children:"Software"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["WIZnet S2E Configuration Tool","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/Wiznet/WIZnet-S2E-Tool-GUI/releases/tag/V1.5.0",children:"Download the Latest Version"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/Wiznet/WIZnet-S2E-Tool-GUI/releases",children:"Download the Older Versions"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/Wiznet/WIZnet-S2E-Tool-GUI",children:"GitHub Repository"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Mosquitto:","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://mosquitto.org/download/",children:"Download Link"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"how-to-connect-to-mqtt-broker-through-mosquitto",children:"How to Connect to MQTT Broker through Mosquitto"}),"\n",(0,s.jsx)(t.p,{children:"W232N supports MQTT client and MQTTS client mode, but this section guides how to connect to MQTT broker through Mosquitto based on MQTT client mode."}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Note"})," : MQTTS client mode requires additional security-related settings, unlike MQTT client mode."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"step-1-run-config-tool",children:"Step 1: Run Config-tool"}),"\n",(0,s.jsxs)(t.p,{children:["Run installed ",(0,s.jsx)(t.strong,{children:"'Config-tool'"})]}),"\n",(0,s.jsx)(t.h3,{id:"step-2-setup-mosquitto",children:"Step 2: Setup Mosquitto"}),"\n",(0,s.jsx)(t.p,{children:"Depending on the Mosquitto version, you may need to setup Mosquitto, so refer to the below to setup."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"In Mosquitto versions earlier than 2.0 the default is to allow clients to connect without authentication."}),"\n",(0,s.jsx)(t.li,{children:"In 2.0 and up, you must choose your authentication options explicitly before clients can connect."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Therefore, if you are using version 2.0 or later, refer to following link to setup 'mosquitto.conf' in the directory where Mosquitto is installed."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://mosquitto.org/documentation/authentication-methods/",children:"Authentication Methods"})}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"step-3-run-mqtt-broker-through-mosquitto",children:"Step 3: Run MQTT Broker through Mosquitto"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"Ex>\nmosquitto -c mosquitto.conf -p 1883 -v\n"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.img,{src:n(26281).Z+"",width:"962",height:"522"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Run MQTT broker through Mosquitto"})]})})]})]}),"\n",(0,s.jsx)(t.h3,{id:"step-4-setup-device-through-wiznet-s2e-configuration-tool-for-mqtt-broker-connection",children:"Step 4: Setup Device through WIZnet S2E Configuration Tool for MQTT Broker Connection"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Select ",(0,s.jsx)(t.strong,{children:"MQTT client"})," mode in the ",(0,s.jsx)(t.strong,{children:"Operation mode"})," setting section"]}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.img,{src:n(70825).Z+"",width:"834",height:"722"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Select MQTT client mode"})]})})]})]}),"\n",(0,s.jsxs)(t.ol,{start:"2",children:["\n",(0,s.jsxs)(t.li,{children:["Setup the ",(0,s.jsx)(t.strong,{children:"remote host IP (or URL)"})," and ",(0,s.jsx)(t.strong,{children:"remote port"})," in the ",(0,s.jsx)(t.strong,{children:"Remote host / port"})," section"]}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.img,{src:n(63891).Z+"",width:"834",height:"722"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Setup remote host IP and remote port"})]})})]})]}),"\n",(0,s.jsxs)(t.ol,{start:"3",children:["\n",(0,s.jsx)(t.li,{children:"Setup MQTT options"}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.img,{src:n(46021).Z+"",width:"834",height:"722"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Setup MQTT options"})]})})]})]}),"\n",(0,s.jsxs)(t.ol,{start:"4",children:["\n",(0,s.jsxs)(t.li,{children:["Click the ",(0,s.jsx)(t.strong,{children:"Apply Settings"})," button to save the settings"]}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.img,{src:n(63573).Z+"",width:"834",height:"722"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Click Apply Settings button"})]})})]})]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.img,{src:n(46068).Z+"",width:"834",height:"722"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Saved settings"})]})})]})]}),"\n",(0,s.jsx)(t.h3,{id:"step-5-done",children:"Step 5: Done"}),"\n",(0,s.jsx)(t.p,{children:"Device is successfully connected to the MQTT broker!"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.img,{src:n(81282).Z+"",width:"834",height:"722"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Status"})]})})]})]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.img,{src:n(63212).Z+"",width:"963",height:"522"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Connect to MQTT broker"})]})})]})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"how-to-connect-to-aws-using-mqtt",children:"How to connect to AWS using MQTT"}),"\n",(0,s.jsx)(t.h3,{id:"step-1-create-a-thing-and-policy-in-aws-and-download-a-certificate",children:"Step 1: Create a Thing and Policy in AWS and Download a Certificate"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"To use AWS services, you must first sign in. Click the link below to go to the sign in page."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.a,{href:"https://aws.amazon.com/console/",children:"AWS login page"})})}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"2",children:["\n",(0,s.jsx)(t.li,{children:"Once logged in, search for \u201cIoT Console\u201d in the search bar and click on it."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/1_aws_iot_core.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:'Search \u201cIoT Console"'})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"2",children:["\n",(0,s.jsx)(t.li,{children:"Click the \u201cThings\u201d tab on the left, then hit the orange \u201cCreate things\u201d button."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/2_aws_creating_thing.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:'click "Create Things"'})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"3",children:["\n",(0,s.jsx)(t.li,{children:"Select \u201cCreate single thing\u201d and press the Next button."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/3_aws_creating_thing.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:'Select "Create things"'})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"4",children:["\n",(0,s.jsx)(t.li,{children:"Enter \u201cThing name\u201d and hit the Next button."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/4_aws_creating_thing.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:'Enter "Thing name"'})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"5",children:["\n",(0,s.jsx)(t.li,{children:"Select \u201cAuto-generate a new certificate (recommended)\u201d and press the Next button."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/5_aws_creating_thing.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:'Select "Auto-generate a new certificate" and click "Next"'})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"6",children:["\n",(0,s.jsx)(t.li,{children:"Next, you need to create a policy for securing your Thing. Click \u201cCreate policy\u201d."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/6_aws_creating_policy.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:'Click "Create policy"'})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"7",children:["\n",(0,s.jsx)(t.li,{children:"Set a name for the policy, configure the Policy Document as shown, and hit the Create button."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/7_aws_creating_policy.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Setting policy information"})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"8",children:["\n",(0,s.jsx)(t.li,{children:"Go back to the \u201cCreate single thing\u201d page you opened earlier and press the \u201cCreate thing\u201d button."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/8_aws_combine_policy.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:'Click "Create thing"'})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"9",children:["\n",(0,s.jsx)(t.li,{children:"Download all keys and certificates."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/9_aws_downloading_cert_key.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Download all keys and certificates"})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(t.h3,{id:"step-2-enter-the-certificate-on-the-device",children:"Step 2: Enter the certificate on the device"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"In AWS, enter the MQTT Test Client tab and copy the endpoint."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/10_aws_copy_endpoint.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Copy Endpoint"})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"2",children:["\n",(0,s.jsx)(t.li,{children:"Turn on the configuration tool to detect your device and set the \u201cBasic settings\u201d tab as follows"}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/1_device_search.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Set the \u201cBasic settings\u201d tab in the configuration tool"})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"3",children:["\n",(0,s.jsx)(t.li,{children:"Set up the \u201cMQTT options\u201d tab like this"}),"\n"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"MQTT Topics Section"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Publish Topic:"})," $aws/things/my_w232n_thing/shadow/update"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Subscribe Topic:"})," $aws/things/my_w232n_thing/shadow/update/accepted"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"MQTT Options"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Client ID:"})," my_w232n_thing"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Keep-Alive:"})," 60"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"QoS:"})," QoS 0"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Remote Host / Port"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Remote Host:"})," Paste the copied endpoint"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Remote Port:"})," 8883"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/2_MQTT_option.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Set \u201cMQTT options\u201d"})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"4",children:["\n",(0,s.jsx)(t.li,{children:"Go to the Certificate Manager tab and adjust the Root CA section as shown below."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/3_MQTT_cert_key.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Adjust the Root CA section"})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"5",children:["\n",(0,s.jsx)(t.li,{children:"Tap \u201cLoad file\u201d to load the following certificate and key files"}),"\n"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Root CA"})," : AmazonRootCA1.pem"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Client Certificate"})," : xxxxx-certificate.pem.crt"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Private Key"})," : xxxxx-private.pem.key"]}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/4_MQTT_cert_key.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Load certificate and key files"})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"6",children:["\n",(0,s.jsx)(t.li,{children:"Press each of the \u201cSave to device\u201d buttons."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/5_MQTT_cert_key.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Save certificate and key files"})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"7",children:["\n",(0,s.jsx)(t.li,{children:"click \u201cApply settings\u201d."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/6_MQTT_cert_key.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"click \u201cApply settings\u201d"})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(t.h3,{id:"step-3-run-subscribe",children:"Step 3: Run (Subscribe)"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Go back to the AWS IoT Console page and click \u201cMQTT test client\u201d under the \u201cTest\u201d section to enter it. Then, in the MQTT Topics Section of the configuration tool, enter the Publish Topic ",(0,s.jsx)(t.strong,{children:"$aws/things/my_w232n_thing/shadow/update"})," in the \u201cTopic filter\u201d and hit the Subscribe button."]}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/1_aws_sub_topic.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Subscrive topic"})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"2",children:["\n",(0,s.jsx)(t.li,{children:"Open your device's serial port using a terminal tool to transfer data."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/2_aws_sub_topic.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Transfer data"})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"3",children:["\n",(0,s.jsx)(t.li,{children:"This will ensure that your MQTT communication with AWS is working correctly."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/3_aws_sub_topic.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Successful MQTT communication with AWS"})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(t.h3,{id:"step-4-run-publish",children:"Step 4: Run (Publish)"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"Return to the AWS IoT Console page and click \u201cMQTT test client\u201d under the \u201cTest\u201d section. Then in the MQTT Topics Section of the configuration tool, enter the Subscribe Topic $aws/things/my_w232n_thing/shadow/update/accepted in the \u201cTopic name\u201d and hit the Publish button."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/4_aws_pub_topic.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Publish topic"})]})})]})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ol,{start:"2",children:["\n",(0,s.jsx)(t.li,{children:"In the Serials window, you can see the data sent by AWS."}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.th,{style:{textAlign:"center"}})})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsx)(t.tr,{children:(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/products/w232n/aws_execute/5_aws_pub_topic.png",width:"600"})})}),(0,s.jsx)(t.tr,{children:(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:["Figure: ",(0,s.jsx)(t.strong,{children:"Successful MQTT communication with AWS"})]})})]})]})]})}function x(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},63573:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/click_apply_settings_button-1302171badd7b45d834ac04a76629b88.png"},63212:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/connect_to_mqtt_broker-91cc3bf674c4cd5e6c8c1a6844d6eb73.png"},26281:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/run_mqtt_broker_through_mosquitto-cfef37f91d18fbda9e5f98339b435a52.png"},46068:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/saved_settings-50c5e6b4ba1dc70493e6f5122a9c2cf1.png"},70825:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/select_mqtt_client_mode-cd2e1a06f3bc768d0c2489c77fbb14e5.png"},46021:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/setup_mqtt_options-34d8455ff4f0c4ba853960af40c6967d.png"},63891:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/setup_remote_host_ip_and_remote_port-d8f86c326f2cdf10d8018e180cc9cc41.png"},81282:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/status-ed31c6222582472aeac6eeceb4308ff0.png"},11151:(e,t,n)=>{n.d(t,{Z:()=>c,a:()=>l});var s=n(67294);const i={},r=s.createContext(i);function l(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);