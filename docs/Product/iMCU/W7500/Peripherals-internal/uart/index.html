<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<link rel="search" type="application/opensearchdescription+xml" title="WIZnet Document System" href="/opensearch.xml"><title data-react-helmet="true">Universal Asynchronous Receive Transmit(UART) | WIZnet Document System</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Universal Asynchronous Receive Transmit(UART) | WIZnet Document System"><meta data-react-helmet="true" name="description" content="Introduction"><meta data-react-helmet="true" property="og:description" content="Introduction"><meta data-react-helmet="true" property="og:url" content="https://doc.wiznet.io/docs/Product/iMCU/W7500/Peripherals-internal/uart"><link data-react-helmet="true" rel="shortcut icon" href="/img/wizfavicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://doc.wiznet.io/docs/Product/iMCU/W7500/Peripherals-internal/uart"><link rel="stylesheet" href="/styles.dbfb2c5a.css">
<link rel="preload" href="/styles.413cdf69.js" as="script">
<link rel="preload" href="/runtime~main.f54b763e.js" as="script">
<link rel="preload" href="/main.fba6c6f6.js" as="script">
<link rel="preload" href="/1.171ba466.js" as="script">
<link rel="preload" href="/2.b98f2df4.js" as="script">
<link rel="preload" href="/3.18a04464.js" as="script">
<link rel="preload" href="/1be78505.0d1935e2.js" as="script">
<link rel="preload" href="/20ac7829.e3ea8621.js" as="script">
<link rel="preload" href="/17896441.629849c2.js" as="script">
<link rel="preload" href="/676a8d6b.a8bc34a8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/wiznet_logo_110x37.png" alt="My Site Logo"><strong class="navbar__title"></strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Wiznet/document_framework" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/wiznet_logo_110x37.png" alt="My Site Logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/Wiznet/document_framework" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Universal Asynchronous Receive Transmit(UART)</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="introduction"></a>Introduction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p>The UART supports synchronous one-way communication, half-duplex single wire communication, and multiprocessor communications(CTS/RTS).  </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="features"></a>Features<a aria-hidden="true" tabindex="-1" class="hash-link" href="#features" title="Direct link to heading">#</a></h2><ul><li>Serial-to-parallel conversion on data received from a peripheral device</li><li>Parallel-to-serial conversion on data transmitted to the peripheral device</li><li>Data size of 5,6,7 and 8 its</li><li>One or two stop bits</li><li>Even, odd, stick, or no-parity bit generation and detection</li><li>Support of hardware flow control</li><li>Programmable FIFO disabling for 1-byte depth.</li><li>Programmable use of UART or IrDA SIR input/output</li><li>False start bit detection</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="functional-description"></a>Functional description<a aria-hidden="true" tabindex="-1" class="hash-link" href="#functional-description" title="Direct link to heading">#</a></h2><p>UART bidirectional communication requires a minimum of two pins: RX, TX
The frame are comprised of:</p><ul><li>An Idle Line prior to transmission or reception </li><li>A start bit </li><li>A data word (8 or 9 bits) least significant bit first</li><li>1, 1.5, 2 Stop bits indicating that the frame is complete </li><li>The USART interface uses a baud rate generator </li><li>A status register (UART1_RISR) </li><li>data registers (UART1DR) </li><li>A baud rate register (UART1_IBRD,UART1_FBRD)</li></ul><p>The below figure shows UART0,1 Block diagram</p><p><img src="/img/products/w7500p/peripheral/uart_block_diagram.jpg" title="Figure 1 UART block diagram"></p><p>The below Figure shows the UART character frame</p><p><img src="/img/products/w7500p/peripheral/uart_character_frame.jpg" title="Figure 2 UART character frame"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="baud-rate-calculation"></a>Baud rate calculation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#baud-rate-calculation" title="Direct link to heading">#</a></h3><p>UARTx can operate with or without using the Fractional Divider. The baud rate divisor is a 22-bit number consisting the UARTxIBRD(16-bit integer) and the UARTxFBRD(6-bit fractional).
This is used by the baud rate generator to determine the bit period.</p><img src="http://latex.codecogs.com/gif.latex?Baud&amp;space;Rate&amp;space;Divisor&amp;space;=" title="Baud Rate Divisor =">      <img src="http://latex.codecogs.com/gif.latex?UARTCLK/((16*baud&amp;space;rate))=&amp;space;ã€–BRDã€—_I&amp;plus;&amp;space;ã€–BRDã€—_F" title="UARTCLK/((16*baud rate))= ã€–BRDã€—_I+ ã€–BRDã€—_F"><p>The below Figure shows UART divider flow chart</p><p><img src="/img/products/w7500p/peripheral/uart_divider_flow_chart.jpg" title="Figure 3 UART divider flow chart"></p><p>The below Figure shows how to set the UART Initial value.</p><p><img src="/img/products/w7500p/peripheral/uart_init_flow_chart.jpg" title="Figure 4 UART Initial setting flow chart"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="data-transmission"></a>Data transmission<a aria-hidden="true" tabindex="-1" class="hash-link" href="#data-transmission" title="Direct link to heading">#</a></h3><p>Data transmitted is stored in a 32-byte FIFOs. Transmit data is written into the transmit FIFO for transmission. If UART is enabled, it causes a data frame to start transmitting with parameters indicated in the UARTxLCR_H.
Data continues to transmit until there is no data left in the transmit FIFO. The BUSY bit of UARTxFR is â€˜1â€™ as soon as data is written to the transmit FIFO, which means the FIFO is not empty, and remains as â€˜1â€™ while data is being transmitted. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="data-receive"></a>Data receive<a aria-hidden="true" tabindex="-1" class="hash-link" href="#data-receive" title="Direct link to heading">#</a></h3><p>Received data is stored in the 32-byte FIFOs. When a start bit has been received, it begins running and data is sampled on the eighth cycle of that counter in UART mode. A valid stop bit is confirmed if UARTRXD is â€˜1â€™. When a full word is received, the data is stored in the receive FIFO. Error bit is stored in bit[10:8] of UARTxCR and overrun is stored in bit[11] of UARTxCR.</p><p>The below figure shows Transmit and Receive data flow chart.</p><p><img src="/img/products/w7500p/peripheral/uart_txrxdata_flow_chart.jpg" title="Figure 5 Transmit and Receive data flow chart"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="hardware-flow-control"></a>Hardware flow control<a aria-hidden="true" tabindex="-1" class="hash-link" href="#hardware-flow-control" title="Direct link to heading">#</a></h3><p>The below Figure shows Hardware flow control description.</p><p><img src="/img/products/w7500p/peripheral/uart_hw_flow_chart.jpg" title="Figure 6 Hardware flow control description"></p><p>The RTS flow control is enabled by setting the RTSen of UARTxCR. If RTS is enabled, the data flow is controlled as follows.
When the receiver FIFO level reaches the programmed trigger level, nUARTRTS(pin) is asserted(to a low value). nUARTRTS is reasserted(to a low level) once the receiver FIFO has reached the previous trigger level. The reasserted of nUARTRTS signals to the sending UART to continue transmitting data.</p><p>The CTS flow control is enabled, the transmitter can only transmit data when nUARTCTS is asserted. When nUARTCTR is re-asserted(to a low) the transmitter sends the next byte. To stop the transmitter from sending the following byte, nUARTCTS must be released before the middle of the last stop bit that is currently being sent.</p><p>The below Figure shows CTS Functinoal Timing.</p><p><img src="/img/products/w7500p/peripheral/uart_cts_timing.jpg" title="Figure 7 CTS Functional Timing"></p><p>The below Figure shows how software should use the RTS/CTR.</p><p><img src="/img/products/w7500p/peripheral/uart_set_flow_chart.jpg" title="Figure 8 Algorithm for setting CTS/RTS flowchart"></p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="peripheral_examples"></a>Peripheral_Examples<a aria-hidden="true" tabindex="-1" class="hash-link" href="#peripheral_examples" title="Direct link to heading">#</a></h2><ul><li><a href="/docs/Product/iMCU/W7500/Peripherals-internal/inter">UART Interrupt example</a></li><li><a href="/docs/Product/iMCU/W7500/Peripherals-internal/printf">UART Printf example</a></li><li><a href="/docs/Product/iMCU/W7500/Peripherals-internal/polling">UART Polling example</a></li><li><a href="/docs/Product/iMCU/W7500/Peripherals-internal/flowcontrol">UART Hardware FlowControl example</a></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Wiznet/document_framework/tree/master/docs/Product/iMCU/W7500/Peripherals-internal/uart.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#features" class="table-of-contents__link">Features</a></li><li><a href="#functional-description" class="table-of-contents__link">Functional description</a><ul><li><a href="#baud-rate-calculation" class="table-of-contents__link">Baud rate calculation</a></li><li><a href="#data-transmission" class="table-of-contents__link">Data transmission</a></li><li><a href="#data-receive" class="table-of-contents__link">Data receive</a></li><li><a href="#hardware-flow-control" class="table-of-contents__link">Hardware flow control</a></li></ul></li><li><a href="#peripheral_examples" class="table-of-contents__link">Peripheral_Examples</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Introduction</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://forum.wiznet.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">WIZnet Forum</a></li><li class="footer__item"><a href="http://maker.wiznet.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">WIZnet Maker</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Wiznet/document_framework" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 WIZnet Co., Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.413cdf69.js"></script>
<script src="/runtime~main.f54b763e.js"></script>
<script src="/main.fba6c6f6.js"></script>
<script src="/1.171ba466.js"></script>
<script src="/2.b98f2df4.js"></script>
<script src="/3.18a04464.js"></script>
<script src="/1be78505.0d1935e2.js"></script>
<script src="/20ac7829.e3ea8621.js"></script>
<script src="/17896441.629849c2.js"></script>
<script src="/676a8d6b.a8bc34a8.js"></script>
</body>
</html>